doctype html
html
  head
    meta(http-equiv="Content-Type", content="text/html;charset=utf-8")
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    title Singapore for Parents
    meta(name='description', content='')
    meta(name='viewport', content='user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1')
    
    // build:css(.tmp) styles/vendor.css
    // endbuild

    // build:css(.tmp) styles/main.css
    link(rel="stylesheet", href="styles/main.css")
    // endbuild

  body
    .container(ng-view="")

    // build:js(.) scripts/vendor.js
    // bower:js
    script(src="bower_components/angular/angular.js")
    script(src="bower_components/angular-route/angular-route.js")
    script(src="bower_components/lodash/dist/lodash.js")
    script(src="bower_components/firebase/firebase.js")
    // endbower
    // endbuild

    // build:js({app,.tmp}) scripts/main.js
    script(src="scripts/app.js")
    script(src="scripts/controllers/main.js")
    script(src="scripts/services/locations.js")
    script(src="scripts/directives/map.js")
    // endbuild

    script(src="cordova.js")

    script.
      angular.element(document).ready(function () {
        if (window.cordova) {
          console.log("Running in Cordova, will bootstrap AngularJS once 'deviceready' event fires.");
          document.addEventListener('deviceready', function () {
            console.log("Deviceready event has fired, bootstrapping AngularJS.");
            angular.bootstrap(document.body, ['App']);
          }, false);
        } else {
          console.log("Running in browser, bootstrapping AngularJS now.");
          angular.bootstrap(document.body, ['App']);
        }
      });